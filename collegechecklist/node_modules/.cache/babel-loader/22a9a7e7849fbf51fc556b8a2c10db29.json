{"ast":null,"code":"import { UserContext } from \"../Providers/UserProvider\";\nimport { auth } from \"../firebase\";\nimport { storage } from \"../firebase\";\nexport function changePic() {\n  const fileButton = document.querySelector('#fileButton');\n  var imageURL;\n  fileButton.addEventListener('change', function (e) {\n    //get file \n    var file = e.target.files[0]; //create a storage reference\n\n    var storageRef = storage.ref('profilePictures/' + UserContext + '.jpg'); //upload file\n\n    var task = storageRef.put(file); //update progress bar\n\n    task.on('state_changed', function progress(snapshot) {}, function error(err) {}, function complete() {\n      storageRef.getDownloadURL().then(function (url) {\n        console.log(url);\n        imageURL = url;\n        var user = auth.currentUser;\n        user.updateProfile({\n          photoURL: imageURL\n        }).then(function () {\n          console.log(user);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        // Handle any errors\n        console.log(error);\n      }); // window.location.replace('/profile');\n\n      var user = auth.currentUser;\n      user.updateProfile({\n        photoURL: imageURL\n      }).then(function () {\n        // Update successful.\n        console.log(user);\n      }).catch(function (error) {\n        // An error happened.\n        console.log(error);\n      });\n    });\n  });\n}\n;","map":{"version":3,"sources":["/Users/jordankillenberg/Documents/CollegeChecklist/collegechecklist/src/Components/ChangePic.jsx"],"names":["UserContext","auth","storage","changePic","fileButton","document","querySelector","imageURL","addEventListener","e","file","target","files","storageRef","ref","task","put","on","progress","snapshot","error","err","complete","getDownloadURL","then","url","console","log","user","currentUser","updateProfile","photoURL","catch"],"mappings":"AAAA,SAASA,WAAT,QAA4B,2BAA5B;AACA,SAAQC,IAAR,QAAmB,aAAnB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,OAAO,SAASC,SAAT,GAAqB;AAE5B,QAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA,MAAIC,QAAJ;AAEAH,EAAAA,UAAU,CAACI,gBAAX,CAA4B,QAA5B,EAAsC,UAASC,CAAT,EAAY;AAC9C;AACA,QAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX,CAF8C,CAG9C;;AACA,QAAIC,UAAU,GAAGX,OAAO,CAACY,GAAR,CAAY,qBAAqBd,WAArB,GAAmC,MAA/C,CAAjB,CAJ8C,CAK9C;;AACA,QAAIe,IAAI,GAAGF,UAAU,CAACG,GAAX,CAAeN,IAAf,CAAX,CAN8C,CAO9C;;AACAK,IAAAA,IAAI,CAACE,EAAL,CAAQ,eAAR,EACI,SAASC,QAAT,CAAkBC,QAAlB,EAA2B,CAE1B,CAHL,EAII,SAASC,KAAT,CAAeC,GAAf,EAAoB,CAEnB,CANL,EAOI,SAASC,QAAT,GAAmB;AACfT,MAAAA,UAAU,CAACU,cAAX,GAA4BC,IAA5B,CAAiC,UAASC,GAAT,EAAc;AAC3CC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAlB,QAAAA,QAAQ,GAAGkB,GAAX;AAEA,YAAIG,IAAI,GAAG3B,IAAI,CAAC4B,WAAhB;AACAD,QAAAA,IAAI,CAACE,aAAL,CAAmB;AAAEC,UAAAA,QAAQ,EAAExB;AAAZ,SAAnB,EACCiB,IADD,CACM,YAAW;AAAEE,UAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAAmB,SADtC,EAECI,KAFD,CAEO,UAASZ,KAAT,EAAgB;AAAEM,UAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AAAoB,SAF7C;AAGH,OARD,EASCY,KATD,CASO,UAASZ,KAAT,EAAgB;AACnB;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACH,OAZD,EADe,CAcf;;AACA,UAAIQ,IAAI,GAAG3B,IAAI,CAAC4B,WAAhB;AACAD,MAAAA,IAAI,CAACE,aAAL,CAAmB;AACfC,QAAAA,QAAQ,EAAExB;AADK,OAAnB,EAGCiB,IAHD,CAGM,YAAW;AACb;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACH,OAND,EAOCI,KAPD,CAOO,UAASZ,KAAT,EAAgB;AACnB;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACH,OAVD;AAWH,KAlCL;AAoCH,GA5CD;AA6CC;AAAA","sourcesContent":["import { UserContext } from \"../Providers/UserProvider\";\nimport {auth} from \"../firebase\";\nimport {storage} from \"../firebase\";\n\nexport function changePic (){\n\nconst fileButton = document.querySelector('#fileButton');\nvar imageURL;\n\nfileButton.addEventListener('change', function(e) {\n    //get file \n    var file = e.target.files[0];\n    //create a storage reference\n    var storageRef = storage.ref('profilePictures/' + UserContext + '.jpg');\n    //upload file\n    var task = storageRef.put(file);\n    //update progress bar\n    task.on('state_changed',\n        function progress(snapshot){\n\n        },\n        function error(err) {\n\n        },\n        function complete(){\n            storageRef.getDownloadURL().then(function(url) {\n                console.log(url);\n                imageURL = url;\n\n                var user = auth.currentUser;\n                user.updateProfile({ photoURL: imageURL })\n                .then(function() { console.log(user) })\n                .catch(function(error) { console.log(error) });\n            })\n            .catch(function(error) {\n                // Handle any errors\n                console.log(error);\n            });\n            // window.location.replace('/profile');\n            var user = auth.currentUser;\n            user.updateProfile({\n                photoURL: imageURL\n            })\n            .then(function() {\n                // Update successful.\n                console.log(user);\n            })\n            .catch(function(error) {\n                // An error happened.\n                console.log(error);\n            });\n        }\n    );\n});\n}; "]},"metadata":{},"sourceType":"module"}